// Generated by CoffeeScript 1.10.0
(function() {
  require.config({
    urlArgs: "nocache=" + (new Date).getTime(),
    paths: {
      "jquery": "../vendor/jquery/dist/jquery.min",
      "corejs": "../vendor/corejs/core.min",
      "firebase": "../vendor/firebase/firebase"
    },
    shim: {
      "firebase": {
        exports: "Firebase"
      }
    }
  });

  require(["jquery", "firebase", "corejs", "modules/canvas", "modules/draw", "modules/database", "modules/dispatcher"], function(jQuery, Firebase, Core, mod_canvas, mod_draw, mod_database, mod_dispatcher) {
    Core.extend("$", jQuery);
    Core.extend("db-api", Firebase);
    Core.register("main", function(sandbox) {
      return {
        init: function() {
          var self;
          console.log("Starting main...");
          self = this;
          return sandbox.use("$")(document).ready(function() {
            Core.start("canvas");
            Core.start("draw");
            Core.start("database");
            Core.start("dispatcher");
            return sandbox.listen("config-data", self.configure);
          });
        },
        configure: function(config) {
          this.config = config;
          return console.log("Obtained config data...");
        },
        destroy: function() {
          return console.log("Stopping main...");
        }
      };
    });
    return Core.start("main");
  });

}).call(this);
